version: "2.0"

screen:
  name: 내 작업실
  route: /workspace
  layout: full-width

data_requirements:
  - resource: works
    needs: [id, name, type, base_pattern_id, status, export_path, created_at, updated_at]
    filters:
      status: "?status"
      type: "?type"
      search: "?q"

components:
  - id: status_filter
    type: tabs
    position: header
    function: 상태별 필터링 (전체/초안/완료/내보내기됨)
    events:
      - on: click:tab
        do: 선택한 상태로 필터링, URL 업데이트

  - id: type_filter
    type: filter-form
    position: header
    function: 유형별 필터링 (스킬/에이전트/오케스트레이션)
    events:
      - on: click:filter
        do: 선택한 유형으로 필터링

  - id: search_bar
    type: search-form
    position: header
    function: 작업물 이름 검색
    events:
      - on: submit
        do: 검색어로 작업물 필터링

  - id: work_grid
    type: grid
    position: main
    function: 작업물 카드 그리드 (이름 + 타입 뱃지 + 상태 뱃지 + 기반 패턴 + 날짜)
    data_source:
      resource: works
    events:
      - on: click:card
        do: 작업물 상세 페이지로 이동

connections:
  navigations:
    - from: work_grid
      to: /workspace/:id

  shared_components:
    - sidebar_nav
    - breadcrumb

tests:
  - name: 초기 로드
    when: 페이지 접속
    then:
      - 전체 작업물 그리드 표시
      - 상태 필터 탭 표시 (전체 활성)

  - name: 상태 필터링
    when: "내보내기됨" 탭 클릭
    then:
      - URL이 ?status=exported로 변경
      - 내보내기된 작업물만 표시

  - name: 작업물 상세 이동
    when: 작업물 카드 클릭
    then:
      - /workspace/:id로 이동
